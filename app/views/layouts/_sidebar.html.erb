<!-- Nouveau layout application.html.erb adapté au layout admin -->
<aside
  class="fixed z-50 inset-y-0 left-0 w-48 bg-white border-r border-gray-200 transform -translate-x-full transition-transform duration-200 ease-in-out lg:translate-x-0 lg:static lg:z-auto lg:block"
  data-admin-sidebar-target="sidebar"
  data-sidebar-target="sidebar"
>
  <div class="flex justify-end lg:hidden">
    <button data-action="click->sidebar#toggle" class="p-2 text-asmbv-red">
      <%= lucide_icon("x", class: "w-5 h-5") %>
    </button>
  </div>
  <div class="p-4 flex flex-col h-full space-y-6">
    <div class="flex items-center gap-2 text-asmbv-red text-xl font-semibold justify-center">
      <%= link_to root_path do %>
        <%= image_tag "logo.png", class: "w-16 h-16 md:w-20 md:h-20" %>
      <% end %>
    </div>

    <nav class="flex-1 space-y-2 text-sm">
      <%= nav_link "Calendrier", sessions_path, icon: "calendar" %>
      <%= nav_link "Mes sessions", me_sessions_path, icon: "volleyball" %>
      <% if current_user.coach? || current_user.admin? %>
        <%= nav_link "Entraînements (coach)", coach_trainings_path, icon: "book-open" %>
      <% end %>
      <%= nav_link "Mon profil", profile_path, icon: "user" %>

      <div class="pt-2">
        <div class="px-3 text-[11px] uppercase tracking-wide text-gray-500 font-semibold mb-1">Règles & informations</div>
        <div class="space-y-1">
          <%= nav_link "Vidéos tutos", infos_videos_path, icon: "play" %>
          <%= nav_link "Planning des entraînements", infos_planning_trainings_path, icon: "calendar" %>
          <%= nav_link "Planning de la saison", infos_planning_season_path, icon: "calendar" %>
          <%= nav_link "Règlement intérieur", infos_internal_rules_path, icon: "file-text" %>
          <%= nav_link "Responsables réservations", infos_reservations_leads_path, icon: "users" %>
          <%= nav_link "Plaquette de présentation", infos_brochure_path, icon: "book-open" %>
        </div>
      </div>

      <% if current_user.admin? %>
        <%= nav_link "Admin", admin_root_path, icon: "shield-check" %>
      <% end %>
    </nav>

    <div class="border-t border-gray-200 pt-4 mt-auto">
      <%= link_to destroy_user_session_path,
            data: { turbo_method: :delete },
            class: "flex items-center gap-2 px-3 py-2 rounded-md hover:bg-gray-100 text-gray-800 font-medium" do %>
        <%= lucide_icon('log-out', class: 'w-5 h-5 text-asmbv-red') %>
        <span>Déconnexion</span>
      <% end %>
    </div>
  </div>
</aside>
