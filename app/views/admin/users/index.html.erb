<div class="flex items-center justify-between mb-6">
  <h1 class="text-2xl font-bold flex items-center gap-2">
    <%= lucide_icon("users") %>
    Joueurs
  </h1>

  <%= link_to new_admin_user_path, class: "fr-btn bg-asmbv-red text-white hover:bg-asmbv-red-dark inline-flex items-center gap-2" do %>
    <%= lucide_icon("plus", size: 18) %>
    Nouveau joueur
  <% end %>
</div>

<div class="overflow-x-auto rounded-xl border border-gray-200 shadow-sm">
  <table class="min-w-full divide-y divide-gray-200 bg-white text-sm">
    <thead class="bg-gray-50 text-gray-600 uppercase text-xs tracking-wide">
      <tr>
        <th class="px-6 py-3 text-left">Nom</th>
        <th class="px-6 py-3 text-left">Email</th>
        <th class="px-6 py-3 text-left">RÃ´les</th>
        <th class="px-6 py-3 text-right">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      <% @users.each do |user| %>
        <tr class="hover:bg-gray-50">
          <td class="px-6 py-4 whitespace-nowrap font-medium text-gray-800 flex items-center gap-2">
            <%= lucide_icon("user", size: 16) %>
            <%= "#{user.last_name} #{user.first_name}" %>
          </td>
          <td class="px-6 py-4 text-gray-700"><%= user.email %></td>
          <td class="px-6 py-4 text-gray-700 space-x-1">
            <% if user.admin? %>
              <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-yellow-100 text-yellow-800 text-xs font-semibold">
                <%= lucide_icon("shield-user", size: 14) %> Admin
              </span>
            <% end %>
            <% if user.coach? %>
              <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-green-100 text-green-800 text-xs font-semibold">
                <%= lucide_icon("dumbbell", size: 14) %> Coach
              </span>
            <% end %>
            <% if user.responsable? %>
              <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-blue-100 text-blue-800 text-xs font-semibold">
                <%= lucide_icon("key-round", size: 14) %> Responsable
              </span>
            <% end %>
          </td>
          <td class="px-6 py-4 text-right space-x-2">
            <%= link_to admin_user_path(user), class: "inline-flex items-center gap-1 text-sm text-gray-600 hover:text-asmbv-red" do %>
              <%= lucide_icon("eye", size: 16) %> Voir
            <% end %>

            <%= link_to edit_admin_user_path(user), class: "inline-flex items-center gap-1 text-sm text-gray-600 hover:text-asmbv-red-dark" do %>
              <%= lucide_icon("edit", size: 16) %> Modifier
            <% end %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
