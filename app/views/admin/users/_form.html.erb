<%= form_with model: [:admin, @user], class: "space-y-6 max-w-xl bg-white p-6 rounded-lg shadow-md" do |f| %>
  <!-- Nom / Prénom -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <%= f.label :first_name, "Prénom", class: "block text-sm font-medium text-gray-900" %>
      <%= f.text_field :first_name,
            required: true,
            class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 
                    placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
    </div>

    <div>
      <%= f.label :last_name, "Nom", class: "block text-sm font-medium text-gray-900" %>
      <%= f.text_field :last_name,
            required: true,
            class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 
                    placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
    </div>
  </div>

  <!-- Email -->
  <div>
    <%= f.label :email, "Email", class: "block text-sm font-medium text-gray-900" %>
    <%= f.email_field :email,
          required: true,
          class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 
                  placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
  </div>

  <!-- Rôles -->
  <fieldset class="grid grid-cols-1 md:grid-cols-3 gap-4">
    <div class="flex items-center">
      <%= f.check_box :admin, class: "h-4 w-4 text-asmbv-red border-gray-300 rounded focus:ring-asmbv-red" %>
      <%= f.label :admin, "Administrateur", class: "ml-2 text-sm text-gray-700" %>
    </div>

    <div class="flex items-center">
      <%= f.check_box :coach, class: "h-4 w-4 text-asmbv-red border-gray-300 rounded focus:ring-asmbv-red" %>
      <%= f.label :coach, "Coach", class: "ml-2 text-sm text-gray-700" %>
    </div>

    <div class="flex items-center">
      <%= f.check_box :responsable, class: "h-4 w-4 text-asmbv-red border-gray-300 rounded focus:ring-asmbv-red" %>
      <%= f.label :responsable, "Responsable", class: "ml-2 text-sm text-gray-700" %>
    </div>
  </fieldset>

  <!-- Niveau -->
  <div class="max-w-xs">
    <%= f.label :level_id, "Niveau", class: "block text-sm font-medium text-gray-900" %>
    <%= f.collection_select :level_id, Level.all, :id, :name,
          { include_blank: "Sélectionner un niveau" },
          { class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 
                    focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" } %>
  </div>

  <!-- Type de licence -->
  <div class="max-w-xs">
    <%= f.label :license_type, "Type de licence", class: "block text-sm font-medium text-gray-900" %>
    <%= f.select :license_type,
          options_for_select([["—", nil], ["Club", "club"], ["Compétition", "competition"]], @user.license_type),
          {},
          class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
  </div>

  <!-- Rémunération (coach) -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <%= f.label :salary_per_training, "Rémunération par entraînement (€)", class: "block text-sm font-medium text-gray-900" %>
      <%= f.number_field :salary_per_training, step: 1, min: 0,
            class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
      <p class="text-xs text-gray-500 mt-1">Applicable si l’utilisateur est coach.</p>
    </div>
  </div>

  <!-- Mot de passe (optionnel à la création / modification) -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <%= f.label :password, "Mot de passe", class: "block text-sm font-medium text-gray-900" %>
      <%= f.password_field :password, autocomplete: "new-password",
            class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
    </div>
    <div>
      <%= f.label :password_confirmation, "Confirmation", class: "block text-sm font-medium text-gray-900" %>
      <%= f.password_field :password_confirmation, autocomplete: "new-password",
            class: "mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 text-gray-900 placeholder:text-gray-400 focus:border-asmbv-red focus:ring-2 focus:ring-asmbv-red sm:text-sm" %>
    </div>
  </div>

  <!-- Bouton -->
  <div>
    <%= f.submit class: "w-full inline-flex justify-center items-center gap-x-1.5 rounded-md bg-asmbv-red px-4 py-2 
                        text-sm font-semibold text-white shadow-sm hover:bg-asmbv-red-dark 
                        focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 
                        focus-visible:outline-asmbv-red transition-colors" do %>
      <%= lucide_icon("save", size: 16) %> Enregistrer
    <% end %>
  </div>
<% end %>
