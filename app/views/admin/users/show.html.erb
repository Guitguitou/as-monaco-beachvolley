<div class="max-w-5xl mx-auto space-y-8">
  <!-- Header -->
  <div class="flex items-center justify-between border-b pb-4 gap-3 flex-col sm:flex-row sm:gap-0">
    <div class="flex items-center gap-2">
      <%= lucide_icon("user", class: "w-6 h-6 text-asmbv-red") %>
      <h1 class="text-2xl font-bold text-gray-900">Fiche joueur</h1>
      <% if @user.disabled? %>
        <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-red-100 text-red-800 text-xs font-semibold">
          <%= lucide_icon('lock', size: 14) %> Désactivé
        </span>
      <% end %>
    </div>
    <div class="flex items-center gap-2">
      <% if @user.disabled? %>
        <%= button_to enable_admin_user_path(@user), method: :post,
              class: "inline-flex items-center gap-1 rounded-md bg-green-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-green-500" do %>
          <%= lucide_icon('unlock', size: 16) %> Réactiver
        <% end %>
      <% else %>
        <%= button_to disable_admin_user_path(@user), method: :post,
              data: { turbo_confirm: "Désactiver ce compte ?" },
              class: "inline-flex items-center gap-1 rounded-md bg-red-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-red-500" do %>
          <%= lucide_icon('lock', size: 16) %> Désactiver
        <% end %>
      <% end %>
      <%= link_to edit_admin_user_path(@user),
            class: "inline-flex items-center gap-1 rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-asmbv-red" do %>
        <%= lucide_icon("edit", size: 16) %> Modifier
      <% end %>
    </div>
  </div>

  <!-- Tabs Navigation -->
  <div class="border-b border-gray-200 mb-6">
    <nav class="-mb-px flex space-x-8">
      <%= link_to admin_user_path(@user, tab: 'profile'), 
          class: "py-2 px-1 border-b-2 font-medium text-sm #{'border-asmbv-red text-asmbv-red' if @active_tab == 'profile'} #{'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300' if @active_tab != 'profile'}" do %>
        <%= lucide_icon("user", class: "w-4 h-4 inline mr-2") %>
        Profil
      <% end %>
      <% if @user.coach? %>
        <%= link_to admin_user_path(@user, tab: 'trainings'), 
            class: "py-2 px-1 border-b-2 font-medium text-sm #{'border-asmbv-red text-asmbv-red' if @active_tab == 'trainings'} #{'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300' if @active_tab != 'trainings'}" do %>
          <%= lucide_icon("users", class: "w-4 h-4 inline mr-2") %>
          Entraînements
        <% end %>
      <% end %>
    </nav>
  </div>

  <!-- Tab Content -->
  <% if @active_tab == 'profile' %>
    <%= render 'admin_profile_tab' %>
  <% elsif @active_tab == 'trainings' && @user.coach? %>
    <%= render 'coach_trainings_tab' %>
  <% end %>

  <!-- Retour -->
  <div>
    <%= link_to "← Retour à la liste",
          admin_users_path,
          class: "text-sm font-medium text-asmbv-red hover:text-asmbv-red-dark" %>
  </div>
</div>
