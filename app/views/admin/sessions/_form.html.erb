<%= form_with model: session, url: admin_sessions_path, method: :post, data: { controller: "session-form" } do |f| %>
  <div class="fr-input-group">
    <%= f.label :title, class: "fr-label" %>
    <%= f.text_field :title, class: "fr-input", required: true %>
  </div>

  <div class="fr-input-group">
    <%= f.label :description, class: "fr-label" %>
    <%= f.text_area :description, class: "fr-input" %>
  </div>

  <div class="fr-input-group">
    <%= f.label :session_type, "Type de session", class: "fr-label" %>
    <%= f.select :session_type, options_for_select(Session.session_types.keys.map { |t| [t.humanize, t] }), {}, class: "fr-select", data: { session_form_target: "type", action: "session-form#updateUserSelect" } %>
  </div>

  <div class="fr-input-group hidden" data-session-form-target="userGroupCoach">
    <%= f.label :user_id, "Coach", class: "fr-label" %>
    <%= f.select :user_id, options_from_collection_for_select(User.coachs, :id, :full_name), {}, class: "fr-select" %>
  </div>

  <div class="fr-input-group hidden" data-session-form-target="userGroupResponsable">
    <%= f.label :user_id, "Responsable", class: "fr-label" %>
    <%= f.select :user_id, options_from_collection_for_select(User.responsables, :id, :full_name), {}, class: "fr-select" %>
  </div>

  <div class="fr-input-group hidden" data-session-form-target="userGroupAll">
    <%= f.label :user_id, "Organisateur", class: "fr-label" %>
    <%= f.select :user_id, options_from_collection_for_select(User.all, :id, :full_name), {}, class: "fr-select" %>
  </div>

  <div class="fr-input-group">
    <%= f.label :start_at, class: "fr-label" %>
    <%= f.datetime_local_field :start_at, class: "fr-input" %>
  </div>

  <div class="fr-input-group">
    <%= f.label :end_at, class: "fr-label" %>
    <%= f.datetime_local_field :end_at, class: "fr-input" %>
  </div>

  <div class="fr-input-group">
    <%= f.label :max_players, class: "fr-label" %>
    <%= f.number_field :max_players, class: "fr-input" %>
  </div>

  <%= f.submit "CrÃ©er la session", class: "fr-btn bg-asmbv-red text-white hover:bg-asmbv-red-dark" %>
<% end %>
