<div class="container mx-auto px-4 py-8">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-3xl font-bold text-gray-900">Forfaits de Crédits</h1>
    <%= link_to "Nouveau Forfait", new_admin_credit_package_path, 
        class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
  </div>

  <% if @credit_packages.any? %>
    <div class="bg-white shadow overflow-hidden sm:rounded-md">
      <ul class="divide-y divide-gray-200">
        <% @credit_packages.each do |package| %>
          <li>
            <div class="px-4 py-4 flex items-center justify-between">
              <div class="flex-1">
                <div class="flex items-center justify-between">
                  <h3 class="text-lg font-medium text-gray-900">
                    <%= package.name %>
                  </h3>
                  <div class="flex items-center space-x-2">
                    <% if package.active? %>
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                        Actif
                      </span>
                    <% else %>
                      <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800">
                        Inactif
                      </span>
                    <% end %>
                  </div>
                </div>
                <p class="text-sm text-gray-600 mt-1">
                  <%= package.description %>
                </p>
                <div class="mt-2 flex items-center text-sm text-gray-500">
                  <span class="font-medium text-gray-900"><%= package.credits %> crédits</span>
                  <span class="mx-2">•</span>
                  <span class="font-medium text-gray-900"><%= package.price %>€</span>
                  <span class="mx-2">•</span>
                  <span><%= package.payments.count %> achat(s)</span>
                </div>
              </div>
              <div class="flex items-center space-x-2">
                <%= link_to "Voir", admin_credit_package_path(package), 
                    class: "text-blue-600 hover:text-blue-900 text-sm font-medium" %>
                <%= link_to "Modifier", edit_admin_credit_package_path(package), 
                    class: "text-indigo-600 hover:text-indigo-900 text-sm font-medium" %>
                <%= link_to "Supprimer", admin_credit_package_path(package), 
                    method: :delete, 
                    data: { confirm: "Êtes-vous sûr de vouloir supprimer ce forfait ?" },
                    class: "text-red-600 hover:text-red-900 text-sm font-medium" %>
              </div>
            </div>
          </li>
        <% end %>
      </ul>
    </div>
  <% else %>
    <div class="text-center py-12">
      <div class="text-gray-500 text-lg mb-4">Aucun forfait de crédits créé</div>
      <%= link_to "Créer le premier forfait", new_admin_credit_package_path, 
          class: "bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded" %>
    </div>
  <% end %>
</div>
