<%= render Admin::PageComponent.new(title: "Groupes de niveau", icon: "layers") do |page| %>
  <% page.with_actions do %>
    <%= button "Nouveau groupe",
          variant: :primary,
          href: new_admin_level_path,
          icon: :plus %>
  <% end %>

  <%= render Admin::TableComponent.new do %>
    <table class="min-w-full divide-y divide-gray-200 bg-white text-sm table-fixed">
    <thead class="bg-gray-50 text-gray-600 uppercase text-xs tracking-wide">
      <tr>
        <th class="px-4 sm:px-6 py-3 text-left">Nom</th>
        <th class="px-4 sm:px-6 py-3 text-left hidden sm:table-cell">Genre</th>
        <th class="px-4 sm:px-6 py-3 text-left hidden md:table-cell">Couleur</th>
        <th class="px-4 sm:px-6 py-3 text-right w-16 sm:w-24">Actions</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      <% @levels.each do |level| %>
        <tr class="hover:bg-gray-50 transition-colors">
          <!-- Nom -->
          <td class="px-4 sm:px-6 py-4 font-medium text-gray-800">
            <%= level.name %>
          </td>

          <!-- Genre -->
          <td class="px-4 sm:px-6 py-4 text-gray-700 capitalize hidden sm:table-cell">
            <%= level.gender %>
          </td>

          <!-- Couleur -->
          <td class="px-4 sm:px-6 py-4 hidden md:table-cell">
            <div class="h-6 w-6 rounded border border-gray-300 shadow-sm" style="background-color: <%= level.color %>"></div>
          </td>

          <!-- Actions -->
          <td class="px-4 sm:px-6 py-4">
            <div class="flex items-center justify-end gap-2">
              <%= button "Voir",
                    variant: :tertiary,
                    size: :small,
                    href: admin_level_path(level),
                    icon: :eye,
                    icon_only: true %>
              <%= button "Modifier",
                    variant: :tertiary,
                    size: :small,
                    href: edit_admin_level_path(level),
                    icon: :edit,
                    icon_only: true %>
            </div>
          </td>
        </tr>
      <% end %>
    </tbody>
    </table>
  <% end %>

  <%= render Admin::PaginationComponent.new(
        current_page: @current_page,
        total_pages: @total_pages,
        params: params
      ) %>
<% end %>
