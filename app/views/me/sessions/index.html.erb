<div class="max-w-5xl mx-auto space-y-8">
  <div class="flex items-center justify-center md:justify-between mb-2">
    <h1 class="text-2xl font-bold flex items-center gap-2 text-gray-900">
      <%= lucide_icon("volleyball") %>
      Mes sessions
    </h1>
  </div>

  <!-- À venir -->
  <div class="bg-white rounded-lg shadow p-4">
    <h2 class="text-lg font-semibold text-gray-800 mb-3">À venir</h2>
    <% if @upcoming.any? %>
      <ul class="divide-y divide-gray-100">
        <% @upcoming.each do |s| %>
          <li class="py-3 flex items-center justify-between gap-4">
            <div class="min-w-0">
              <div class="flex items-center gap-2 text-gray-900 font-medium">
                <%= lucide_icon("calendar", class: "w-4 h-4 text-gray-500") %>
                <%= link_to (s.title.presence || s.display_name), me_session_path(s), class: "hover:text-asmbv-red" %>
              </div>
              <div class="mt-1 text-sm text-gray-600 flex items-center gap-2 flex-wrap">
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 text-xs font-semibold">
                  <%= lucide_icon("map-pin", class: "w-3 h-3") %> <%= s.terrain.to_s.split('_').last %>
                </span>
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold" style="background-color: <%= s.levels.first&.color || '#eee' %>22; color: <%= s.levels.first&.color || '#333' %>">
                  <%= s.levels.map(&:name).join(', ') %>
                </span>
                <span class="inline-flex items-center gap-1 text-xs text-gray-600">
                  <%= lucide_icon("clock", class: "w-3 h-3") %>
                  <%= l s.start_at, format: :short %> — <%= l s.end_at, format: :short %>
                </span>
              </div>
            </div>
            <div class="text-right text-sm text-gray-600">
              <div class="font-semibold"><%= s.user&.full_name || "Organisateur" %></div>
              <div><%= s.price.to_i %> crédits</div>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-sm text-gray-500">Aucune session à venir.</p>
    <% end %>
  </div>

  <!-- Passées -->
  <div class="bg-white rounded-lg shadow p-4">
    <h2 class="text-lg font-semibold text-gray-800 mb-3">Passées</h2>
    <% if @past.any? %>
      <ul class="divide-y divide-gray-100">
        <% @past.each do |s| %>
          <li class="py-3 flex items-center justify-between gap-4">
            <div class="min-w-0">
              <div class="flex items-center gap-2 text-gray-900 font-medium">
                <%= lucide_icon("calendar-check", class: "w-4 h-4 text-gray-500") %>
                <%= link_to (s.title.presence || s.display_name), me_session_path(s), class: "hover:text-asmbv-red" %>
              </div>
              <div class="mt-1 text-sm text-gray-600 flex items-center gap-2 flex-wrap">
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-gray-100 text-gray-800 text-xs font-semibold">
                  <%= lucide_icon("map-pin", class: "w-3 h-3") %> <%= s.terrain.to_s.split('_').last %>
                </span>
                <span class="inline-flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-semibold" style="background-color: <%= s.levels.first&.color || '#eee' %>22; color: <%= s.levels.first&.color || '#333' %>">
                  <%= s.levels.map(&:name).join(', ') %>
                </span>
                <span class="inline-flex items-center gap-1 text-xs text-gray-600">
                  <%= lucide_icon("clock", class: "w-3 h-3") %>
                  <%= l s.start_at, format: :short %> — <%= l s.end_at, format: :short %>
                </span>
              </div>
            </div>
            <div class="text-right text-sm text-gray-600">
              <div class="font-semibold"><%= s.user&.full_name || "Organisateur" %></div>
              <div><%= s.price.to_i %> crédits</div>
            </div>
          </li>
        <% end %>
      </ul>
    <% else %>
      <p class="text-sm text-gray-500">Aucune session passée.</p>
    <% end %>
  </div>
</div>
