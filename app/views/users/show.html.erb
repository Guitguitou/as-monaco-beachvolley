<div class="max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
  <div class="flex items-center justify-between gap-3 mb-6 flex-col sm:flex-row sm:gap-0">
    <h1 class="text-2xl font-bold flex items-center gap-2 text-gray-900">
      <%= lucide_icon("user") %> Mon profil
    </h1>
    <div class="flex items-center gap-2">
      <%= link_to edit_user_registration_path,
            class: "inline-flex items-center gap-2 rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50" do %>
        <%= lucide_icon("key-round", size: 16) %>
        Changer mon mot de passe
      <% end %>
      <%= link_to edit_user_registration_path,
            class: "inline-flex items-center gap-2 rounded-md border border-gray-300 bg-white px-3 py-1.5 text-sm font-semibold text-gray-700 shadow-sm hover:bg-gray-50" do %>
        <%= lucide_icon("mail", size: 16) %>
        Changer mon email
      <% end %>
    </div>
  </div>

  <% if flash[:notice].present? %>
    <div class="mb-4 rounded-md bg-green-50 border border-green-200 text-green-800 px-4 py-2 text-sm">
      <%= flash[:notice] %>
    </div>
  <% end %>
  <% if flash[:alert].present? || flash[:error].present? %>
    <div class="mb-4 rounded-md bg-red-50 border border-red-200 text-red-800 px-4 py-2 text-sm">
      <%= flash[:alert] || flash[:error] %>
    </div>
  <% end %>

  <!-- Tabs Navigation -->
  <div class="border-b border-gray-200 mb-6">
    <nav class="-mb-px flex space-x-8">
      <%= link_to profile_path(tab: 'profile'), 
          class: "py-2 px-1 border-b-2 font-medium text-sm #{'border-asmbv-red text-asmbv-red' if @active_tab == 'profile'} #{'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300' if @active_tab != 'profile'}" do %>
        <%= lucide_icon("user", class: "w-4 h-4 inline mr-2") %>
        Profil
      <% end %>
      <% if @user.coach? %>
        <%= link_to profile_path(tab: 'trainings'), 
            class: "py-2 px-1 border-b-2 font-medium text-sm #{'border-asmbv-red text-asmbv-red' if @active_tab == 'trainings'} #{'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300' if @active_tab != 'trainings'}" do %>
          <%= lucide_icon("users", class: "w-4 h-4 inline mr-2") %>
          Mes entra√Ænements
        <% end %>
      <% end %>
    </nav>
  </div>

  <!-- Tab Content -->
  <% if @active_tab == 'profile' %>
    <%= render 'profile_tab' %>
  <% elsif @active_tab == 'trainings' && @user.coach? %>
    <%= render 'coach_trainings_tab' %>
  <% end %>
</div>
